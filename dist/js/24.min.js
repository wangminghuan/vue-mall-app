webpackJsonp([24],{"33pY":function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAkCAYAAACXOioTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkVBNTg3NUM3RjcyMTFFODkxMUZGODg2QTJDMkEzMjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkVBNTg3NUQ3RjcyMTFFODkxMUZGODg2QTJDMkEzMjgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyRUE1ODc1QTdGNzIxMUU4OTExRkY4ODZBMkMyQTMyOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyRUE1ODc1QjdGNzIxMUU4OTExRkY4ODZBMkMyQTMyOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlXq/E0AAAFeSURBVHjaYrx69SoDEKgCcQcQuwAxHwN1wCcg3gPEFUB8mwVIKAHxSSAWZKAuADk4CIgdgdgEZFE7kiU3gPgJlSySAWINqNkdIIs8oBIXgdgYiP9SySJmIL4AxDpA7M6CFCdX0SxxA2InEg2/DMRLoWyQWZegFvGx4NDAC8SbgZiNDJ9cgYYOCmDCofg7EN8lw5I3QPwcmwQuH/0BYkMglibRoldA/IUUi0DgJxDfo1ZaZ2KgExi1aNSiUYtGLRq1aNQiPAC54lMB4jQqm6+CzSIzKB4+QXcEiCdR2fw8ILZBt+gREK8moFEXiNcBMTcQJwLxTgLqA8gNugpoBEsCcQst4wi5cfiU1Dj6BG1/a0Mb5vga+Y1A/BvaZG4lopGvC+srsUDDORSI9aHt5stEOnIiEfGpAWXvZAT2+JSBjNM06IjBwHsgNmWCNubNoanpMxUt+Aw1E2T2XYAAAwCp5D5PAVRqTAAAAABJRU5ErkJggg=="},SQ5k:function(e,n,t){var i=t("ydNR");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("FIqI")("ff370644",i,!0,{})},cywn:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAiCAYAAACjv9J3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkY1RjE2MTU3RjcyMTFFODkxMUZGODg2QTJDMkEzMjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkY1RjE2MTY3RjcyMTFFODkxMUZGODg2QTJDMkEzMjgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyRjVGMTYxMzdGNzIxMUU4OTExRkY4ODZBMkMyQTMyOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyRjVGMTYxNDdGNzIxMUU4OTExRkY4ODZBMkMyQTMyOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PteXXSIAAAL3SURBVHja7JdbiIxhGMdnx2HjgrJOF5bUEhEXDkVOyWLXOcq2yCk5XNioJeQYW2QprXKhHCJpicYxhxybrM2uC3vBjUJYU6xYhzVr/Z76f/U1zTc7387Mnad+ve873+H/ve/zPs/7TFZdXV3Ap3WDclgIh2APNPl5QdDHve1hHbyEZdAJtkE1TEq3qL18NbyCo9AdWiRm7TC4ByEYlYpoNkyGCngLx6C/rtVqZqPFff0+C57CI1gJOV6iWfi0kLaPbuoLQ2GEZug2c/5+OAt/Y67la6knun5rhucQhhfwBiLw0USjdNp5fNRnuAhnNIOWVlbOPnYVzJcb4tkfE3Ve1Ajv5bsauKOvjAb8m01iJExQOxj6QRdnRzo2HR4H0mO2tFXCsXFaLV8hkzb7L9pWy4I1sF59z9SWTsEKpcqAYvRhJmdqgoddghHl6Iwur506Jeo3wDSoz6SopcYN6n+VYG0qG2mJ5Uoo87i+Dzap/x0KlfRT2r2zoRds0WHttl2wVf0fMFNpM+WQKdOSmW2HUvV3wE71f8JceOAnTn+5ztBYq5WPHOEDcBV2a9ykE+V2ElpdnVPGRD9okOdxc5V89U3jGS5Bq5NuJDnB4Wo/BV2OL0jwQFhija5TZBFc9rHL89VWm2ilBjab3AQP2bE0Bc7DPLjgQzBXZ6tZyESvwDvoEGeHxtoTKNIzfmyj9s8Xm2RQvtmri0tdy5AuGwBr1T9o8eyEzHH51nLoaRVq6bCOqq+ylYvL3XHarOxjO7Q33IIeKQpanXRCZaqtZjH8jk0OVpAt1gdYIXUNerZRsLOqyGJVkCtU7MXNSCEdwi2q1m3jDPEpmKNKco7GpaqVE6ZB8+9yyxyq6sPaYMmYxfozGKOCvMTxYzK595TiNqJa9STchfEe94+FS3Bd9W2DYvmI19+K1oLaZj7V9VuNMlG9lr5AYeHYTVUQrxP9l0mmFClS4shLcJ+JbHZluJSqQdtU52CQlqxSGSyq1sYLYGAygmb/BBgAzKm0gH/wbR8AAAAASUVORK5CYII="},uIdB:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("oAV5"),o=t("AHgk"),a={data:function(){return{step:0,isSending:!1,leftTime:60,timer:null,tel:localStorage.getItem("__m_user_tel__")||"",code:"",type:o.a,telReg:/^1[3456789]\d{9}$/}},computed:{sendTxt:function(){return this.isSending?"秒后发送":"发送验证码"}},watch:{tel:function(e){this.tel=e.replace(/[^\d]/g,"")},code:function(e){this.code=e.replace(/[^\d]/g,"")}},methods:{checkeUserStatus:function(){var e=this;this.checkPhoneNumber()&&(this.$store.commit("setLoading",!0),this.$axios.post("/wap/login/validation",{u_cellphone:this.tel,type:0}).then(function(n){var t=n.data;0==t.code?1==t.data.stuatus?e.$dialog(t.data.meg,function(){e.step=2}):2==t.data.stuatus?e.$alert(t.data.meg,function(){e.$router.push("/index/home")}):e.step=2:e.$toast.error(t.message)}),this.$store.commit("setLoading",!1))},handleClearInput:function(e){this[e]=""},handleJumpHome:function(){1==this.step?this.$router.replace("/index/home"):this.step=1},checkPhoneNumber:function(){return!!this.telReg.test(this.tel)||(this.$toast.error("请输入正确的手机号！"),!1)},handleSendCode:function(){var e=this;this.isSending||this.$axios.post("/wap/Login/sendCode",{u_cellphone:this.tel}).then(function(n){0==n.data.code&&(e.setLeftTime(),e.isSending=!0,e.$toast("发送成功，请注意查收"))})},setLeftTime:function(){var e=this;this.timer=setInterval(function(){e.leftTime--,0==e.leftTime&&(e.isSending=!1,e.leftTime=60,clearInterval(e.timer))},1e3)},getWXconfig:function(e){var n=this.getFullArg("/wap/WxChat/getCode"),t=document.createElement("iframe");t.src=n.url+"&url="+encodeURIComponent(n.host+e),t.style.display="none",document.body.appendChild(t)},submitLogin:function(){var e=this;this.checkPhoneNumber()&&(""!=this.code.replace(/\s+/,"")?(this.$store.commit("setLoading",!0),this.$axios.post("/wap/Login/login",{u_cellphone:this.tel,captcha:this.code,u_from:o.a}).then(function(n){var t=n.data;if(e.$store.commit("setLoading",!1),0==t.code){i.b.set("__m_token__",t.data.token,1),localStorage.setItem("__m_user_tel__",e.tel),e.$toast.success("登录成功！"),e.getCartNums();var o=e.$route.query.redir;setTimeout(function(){e.$router.replace(o||"/index/home")},1e3)}})):this.$toast.error("请输入验证码"))}},beforeCreate:function(){document.getElementById("app").style.backgroundColor="#fff"},mounted:function(){var e=this;this.$store.commit("setLoading",!1),setTimeout(function(){e.step=1},200)},destroyed:function(){document.getElementById("app").style=""}},r={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"login-wrap"},[t("i",{staticClass:"close-icon login-close",on:{click:e.handleJumpHome}}),e._v(" "),t("h6",[e._v("账号登录")]),e._v(" "),t("section",{class:["item-wrap",1==e.step?"show":"hide"]},[1==e.step?t("div",[t("div",{staticClass:"item phone"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tel,expression:"tel"}],attrs:{type:"tel",maxlength:"11",placeholder:"请输入手机号"},domProps:{value:e.tel},on:{input:function(n){n.target.composing||(e.tel=n.target.value)}}}),e._v(" "),t("i",{directives:[{name:"show",rawName:"v-show",value:e.tel.length>0,expression:"tel.length>0"}],staticClass:"clear-icon",on:{click:function(n){n.stopPropagation(),n.preventDefault(),e.handleClearInput("tel")}}})]),e._v(" "),t("div",{class:["btn",e.telReg.test(e.tel)?"":"disable"],on:{click:e.checkeUserStatus}},[e._v("下一步")])]):e._e()]),e._v(" "),t("section",{class:["item-wrap",2==e.step?"show":"hide"]},[2==e.step?t("div",[t("div",{staticClass:"item code"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"tel",placeholder:"请输入验证码"},domProps:{value:e.code},on:{input:function(n){n.target.composing||(e.code=n.target.value)}}}),e._v(" "),t("section",{class:["send-btn",e.isSending?"sending":""],on:{click:e.handleSendCode}},[e.isSending?t("i",[e._v(e._s(e.leftTime))]):e._e(),t("i",[e._v(e._s(e.sendTxt))])]),e._v(" "),t("i",{directives:[{name:"show",rawName:"v-show",value:e.code.length>0,expression:"code.length>0"}],staticClass:"clear-icon",on:{click:function(n){n.stopPropagation(),n.preventDefault(),e.handleClearInput("code")}}})]),e._v(" "),t("div",{staticClass:"btn",on:{click:e.submitLogin}},[e._v("登录")])]):e._e()])])},staticRenderFns:[]};var s=t("C7Lr")(a,r,!1,function(e){t("SQ5k")},null,null);n.default=s.exports},ydNR:function(e,n,t){var i=t("L4zZ");(e.exports=t("UTlt")(!1)).push([e.i,'\n@charset "UTF-8";\n/**\r\n * [keyframes 定义css关键帧动画keyframes]\r\n * @param  {[type]} $name [定义动画名字]\r\n * @return {[type]}       [no]\r\n */\n/**\r\n * [animation 定义animation动画]\r\n * @param  {[type]} $value [值]\r\n * @return {[type]}        [description]\r\n *\r\n *  example: @include animation(name .5s linear);\r\n */\n.login-wrap {\n  width: 7.38667rem;\n  margin: 0 auto;\n  overflow: hidden;\n}\n.login-wrap .login-close {\n    position: absolute;\n    top: 0.8rem;\n    right: 0.66667rem;\n}\n.login-wrap .btn {\n    width: 100%;\n    height: 1.2rem;\n    text-align: center;\n    line-height: 1.2rem;\n    border-radius: 1.2rem;\n    background: -webkit-linear-gradient(#69b8fa, #3f95f6);\n    background: -webkit-gradient(linear, left top, left bottom, from(#69b8fa), to(#3f95f6));\n    background: linear-gradient(#69b8fa, #3f95f6);\n    color: #fff;\n    font-size: 18px;\n}\n.login-wrap .btn.disable {\n    background: #ccc;\n}\n.login-wrap .clear-icon {\n    width: 28px;\n    height: 0.85333rem;\n    position: absolute;\n    right: 4px;\n    background-repeat: no-repeat;\n    background-size: 14px auto;\n    background-position-x: center;\n    background-position-y: center;\n    background-image: url('+i(t("Y3mc"))+");\n    top: 50%;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%);\n}\n.login-wrap .item-wrap {\n    -webkit-transition: all 0.3s;\n    transition: all 0.3s;\n    width: 100%;\n    -webkit-transform: translateX(100%);\n            transform: translateX(100%);\n}\n.login-wrap .item-wrap.show {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n}\n.login-wrap .item {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    height: 1.06667rem;\n    border-bottom: 1px solid #d5d5d5;\n    background-repeat: no-repeat;\n    padding-left: 0.64rem;\n    background-position: 0 center;\n    margin-bottom: 0.64rem;\n    color: #353535;\n    display: flex;\n    -webkit-box-align: center;\n                -ms-flex-align: center;\n            align-items: center;\n    font-size: 14px;\n    position: relative;\n}\n.login-wrap .item input {\n      height: 20px;\n      line-height: 20px;\n}\n.login-wrap .phone {\n    background-image: url("+i(t("33pY"))+");\n    background-size: 14px auto;\n}\n.login-wrap .phone input {\n      width: 4.66667rem;\n}\n.login-wrap .code {\n    background-image: url("+i(t("cywn"))+');\n    background-size: 15px auto;\n    margin-bottom: 1.12rem;\n}\n.login-wrap .code input {\n      width: 3.73333rem;\n      margin-right: 0.53333rem;\n}\n.login-wrap .code .clear-icon {\n      right: 2.4rem;\n}\n.login-wrap .code .send-btn {\n      color: #5bb0f9;\n      position: relative;\n      text-align: right;\n      width: 2.26667rem;\n}\n.login-wrap .code .send-btn::before {\n        content: "";\n        height: 0.53333rem;\n        width: 2px;\n        background-color: #e5e5e5;\n        position: absolute;\n        top: 50%;\n        -webkit-transform: translateY(-50%);\n                transform: translateY(-50%);\n        left: 0;\n}\n.login-wrap .code .sending {\n      color: #959595;\n}\n.login-wrap h6 {\n    line-height: 2.6rem;\n    font-size: 22px;\n}\n',""])}});