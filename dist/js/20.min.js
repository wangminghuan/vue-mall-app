webpackJsonp([20],{"5RfZ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{timer:null,isWxPay:2==this.$route.query.pay_type,isLoadOver:!1,price:"",isSuccess:!0,out_trade_no:this.$route.query.out_trade_no||"",isFree:1==this.$route.query.status}},computed:{hasTradeNo:function(){return""!=this.out_trade_no}},methods:{jumpHome:function(){this.$router.push("/index/home")},jumpOrderList:function(t){this.$router.push({path:"/index/order_status",query:{tab:t}})},rePay:function(){window.location.href="/index/pay/?n="+this.out_trade_no+"&p="+this.price},getStatus:function(t){var e=this,n={out_trade_no:this.out_trade_no};this.isWxPay&&(n.pay_type=2),this.$axios.post("/wap/Pay/payQuery",n).then(function(n){var s=n.data;if(0==s.code){var i=s.data&&void 0!==s.data.type?s.data.type:0;e.price=s.data&&void 0!==s.data.totalAmount?s.data.totalAmount:"0.0",t(i)}else t(0)})}},created:function(){var t=this;this.hasTradeNo?this.timer=setInterval(function(){t.getStatus(function(e){1==e||0==e?(t.isSuccess=0!=e,clearInterval(t.timer),t.isLoadOver=!0):3==e&&(t.isSuccess=!1,t.isLoadOver=!0)})},2e3):this.isFree&&!this.hasTradeNo?(this.isSuccess=!0,this.isLoadOver=!0):(this.isSuccess=!1,this.isLoadOver=!0)},mounted:function(){this.$store.commit("setLoading",!1)},destroyed:function(){clearInterval(this.timer)},deactivated:function(){clearInterval(this.timer)}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoadOver,expression:"isLoadOver"}]},[n("div",{class:["pay-result-wrap",t.isSuccess?"pay-suc":"pay-fail"]},[t.isSuccess?n("div",{staticClass:"top"},[t._m(0)]):n("div",{staticClass:"top"},[t._m(1)]),t._v(" "),t.hasTradeNo?n("div",{staticClass:"btn"},[t.isSuccess?n("section",[n("p",{on:{click:function(e){t.jumpOrderList(1)}}},[t._v("查看订单")]),t._v(" "),n("p",{staticClass:"red",on:{click:t.jumpHome}},[t._v("返回首页")])]):n("section",[n("p",{staticClass:"red",on:{click:t.rePay}},[t._v("重新支付")]),t._v(" "),n("p",{on:{click:function(e){t.jumpOrderList(0)}}},[t._v("查看订单")])])]):!t.hasTradeNo&&t.isFree?n("div",{staticClass:"btn"},[n("p",{on:{click:function(e){t.jumpOrderList(1)}}},[t._v("查看订单")]),t._v(" "),n("p",{staticClass:"red",on:{click:t.jumpHome}},[t._v("返回首页")])]):n("div",{staticClass:"btn"},[n("p",{staticClass:"red",on:{click:t.jumpHome}},[t._v("返回首页")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"result"},[e("img",{attrs:{src:n("huqb")}}),this._v(" "),e("p",[this._v("支付成功")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"result"},[e("img",{attrs:{src:n("kSkZ")}}),this._v(" "),e("p",[this._v("支付失败")])])}]};var a=n("C7Lr")(s,i,!1,function(t){n("A5fl")},null,null);e.default=a.exports},A5fl:function(t,e,n){var s=n("keJ9");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);n("FIqI")("1fbc6dbe",s,!0,{})},huqb:function(t,e,n){t.exports=n.p+"img/pay_success.5664fe8.png"},kSkZ:function(t,e,n){t.exports=n.p+"img/pay_failed.c63ea1c.png"},keJ9:function(t,e,n){(t.exports=n("UTlt")(!1)).push([t.i,'\n@charset "UTF-8";\n/**\r\n * [keyframes 定义css关键帧动画keyframes]\r\n * @param  {[type]} $name [定义动画名字]\r\n * @return {[type]}       [no]\r\n */\n/**\r\n * [animation 定义animation动画]\r\n * @param  {[type]} $value [值]\r\n * @return {[type]}        [description]\r\n *\r\n *  example: @include animation(name .5s linear);\r\n */\n.pay-result-wrap {\n  position: fixed;\n  -webkit-transform: translateY(-50%);\n          transform: translateY(-50%);\n  top: 50%;\n  width: 100%;\n  left: 0;\n  right: 0;\n}\n.pay-result-wrap .top {\n    height: 9.01333rem;\n    width: 100%;\n    position: relative;\n}\n.pay-result-wrap .top .result {\n      width: 50%;\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      -webkit-transform: translate(-50%, -50%);\n              transform: translate(-50%, -50%);\n      position: absolute;\n}\n.pay-result-wrap .top .result p {\n        text-align: center;\n        color: #959595;\n        line-height: 50px;\n        font-size: 14px;\n}\n.pay-result-wrap .btn {\n    margin: 0 auto;\n    margin-bottom: 0.93333rem;\n    padding: 0 0.45333rem;\n}\n.pay-result-wrap .btn p {\n      height: 1.28rem;\n      text-align: center;\n      border: 1px solid #f5f5f5;\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n                  -ms-flex-align: center;\n              align-items: center;\n      -webkit-box-pack: center;\n                  -ms-flex-pack: center;\n              justify-content: center;\n      background-color: #fff;\n      color: #959595;\n      font-size: 16px;\n      margin-bottom: 0.4rem;\n}\n.pay-result-wrap .btn p.red {\n      background-color: #dd2727;\n      color: #fff;\n      border: none;\n}\n.pay-result-wrap.pay-suc .btn section {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n                -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n.pay-result-wrap.pay-suc .btn section p {\n      width: 4.4rem;\n}\n',""])}});