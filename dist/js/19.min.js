webpackJsonp([19],{"/kZE":function(t,e,i){t.exports=i.p+"img/searchnogoods_icon.5bcf153.png"},"75OR":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("lRwf"),r=i.n(n),o={props:{list:Object,hasClick:{type:Boolean,value:!1}},data:function(){return{clicked:this.hasClick}},computed:{tagArr:function(){return"string"==typeof this.list.g_tags&&""!=this.list.g_tags?this.list.g_tags.split(","):[]}},watch:{hasClick:function(t){this.clicked=t},clicked:function(t){this.$emit("update:hasClick",t)}},methods:{handleClick:function(){this.clicked=!0,this.$router.push({path:"/index/detail",query:{id:this.list.g_id,gsn:this.list.g_sn}})}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{class:["good-item-wrap",t.hasClick?"is-click":""],on:{click:t.handleClick}},[i("div",{staticClass:"pic"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.list.g_images,expression:"list.g_images"}]})]),t._v(" "),i("div",{staticClass:"cont"},[i("h6",{staticClass:"titl"},[t._v(t._s(t.list.g_name))]),t._v(" "),i("div",{staticClass:"btm"},[i("p",{staticClass:"price"},[i("i",[t._v("￥")]),i("b",[t._v(t._s(t.list.g_price))])]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.tagArr.length>0,expression:"tagArr.length>0"}],staticClass:"tag"},t._l(t.tagArr,function(e,n){return i("li",{key:n},[t._v(t._s(e))])}),0)])])])},staticRenderFns:[]};var a=i("C7Lr")(o,s,!1,function(t){i("kto6")},null,null).exports,l=i("rLOn"),p=i("WBwh"),c=i("fdCj");r.a.component(p.InfiniteScroll.name,p.InfiniteScroll);var d={components:{mySearch:l.default,goodItem:a,goTop:c.a},data:function(){return{isLoadOver:!1,inRest:!1,isEmpty:!1,searchTips:this.$route.query.p||"",keyword:this.$route.query.k||"",list:[],pageSize:10,page:1,goodStatus:0,isShowSearch:!1,filerArr:[{name:"综合",arrow:0,active:1,sort:0},{name:"销量",arrow:1,active:0,sort:0},{name:"价格",arrow:1,active:0,sort:0}]}},methods:{handleClickSearch:function(t){var e=(new Date).getTime();this.$router.replace({path:"/index/list",query:{k:t,mid:this.$route.query.mid,cid:this.$route.query.cid,time:e,ps:this.$route.query.ps,pd:this.$route.query.pd,gid:this.$route.query.gid}})},handleFilter:function(t){this.filerArr.map(function(e,i){i==t?(e.active=1,1==t?1==e.sort?e.sort=2:e.sort=1:2==t&&(3==e.sort?e.sort=4:e.sort=3)):(e.active=0,e.sort=0)}),this.goodStatus=this.filerArr[t].sort,this.getList(!0)},getList:function(t){var e=this;t&&(this.page=1),1==this.page&&this.$store.commit("setLoading",!0);var i={keyword:this.keyword||"",pagesize:this.pageSize,page:this.page,goods_orderby_status:this.goodStatus};this.$route.query.cid&&(i.c_id=this.$route.query.cid),this.$route.query.gid&&(i.gc_id=this.$route.query.gid),this.$route.query.mid&&(i.m_id=this.$route.query.mid),this.$route.query.ps&&(i.price_start=this.$route.query.ps),this.$route.query.pd&&(i.price_end=this.$route.query.pd),this.$axios.post("/wap/Goods/getList",i).then(function(i){var n=i.data;if(1==e.page&&(e.isLoadOver=!0,e.$store.commit("setLoading",!1)),t&&(e.inRest=!0,e.$nextTick(function(t){e.inRest=!1})),0==n.code){var r=n.data.data?n.data.data:[];if(1==e.page&&0==r.length&&(e.isEmpty=!0),r.map(function(t){t.click=!1}),e.list=t?r:e.list.concat(r),r.length<e.pageSize)return void e.$refs.infinitescroll.$emit("ydui.infinitescroll.loadedDone");e.page++}e.$refs.infinitescroll.$emit("ydui.infinitescroll.finishLoad")})}},created:function(){this.getList()}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-list-wrap"},[n("my-search",{attrs:{isShow:t.isShowSearch,searchTips:t.searchTips,source:"list",preTitle:t.$route.meta.title,handleClick:t.handleClickSearch},on:{"update:isShow":function(e){t.isShowSearch=e}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowSearch,expression:"!isShowSearch"}]},[t.isEmpty?n("section",{staticClass:"empty"},[n("img",{attrs:{src:i("/kZE")}}),n("p",[t._v("更多商品正在补充...")])]):n("section",[n("ol",{directives:[{name:"show",rawName:"v-show",value:t.isLoadOver,expression:"isLoadOver"}],staticClass:"filter"},t._l(t.filerArr,function(e,i){return n("li",{key:i,class:[e.active?"active":"",e.active&&e.arrow?"sort-"+e.sort:""],on:{click:function(e){t.handleFilter(i)}}},[n("span",[t._v(t._s(e.name))])])}),0),t._v(" "),n("yd-infinitescroll",{ref:"infinitescroll",attrs:{callback:t.getList}},[t.inRest?t._e():n("ul",{staticClass:"result",attrs:{slot:"list"},slot:"list"},t._l(t.list,function(e,i){return n("li",{key:i},[n("good-item",{attrs:{list:e,hasClick:e.click},on:{"update:hasClick":function(i){t.$set(e,"click",i)}}})],1)}),0),t._v(" "),n("span",{attrs:{slot:"doneTip"},slot:"doneTip"},[t._v(t._s(t.$tips))])])],1)]),t._v(" "),n("goTop")],1)},staticRenderFns:[]};var g=i("C7Lr")(d,f,!1,function(t){i("OUlJ")},null,null);e.default=g.exports},OUlJ:function(t,e,i){var n=i("eWDr");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("FIqI")("5cb758f6",n,!0,{})},X2I5:function(t,e,i){(t.exports=i("UTlt")(!1)).push([t.i,'\n@charset "UTF-8";\n/**\r\n * [keyframes 定义css关键帧动画keyframes]\r\n * @param  {[type]} $name [定义动画名字]\r\n * @return {[type]}       [no]\r\n */\n/**\r\n * [animation 定义animation动画]\r\n * @param  {[type]} $value [值]\r\n * @return {[type]}        [description]\r\n *\r\n *  example: @include animation(name .5s linear);\r\n */\n.good-item-wrap {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n  background-color: #fff;\n  padding: 0.4rem;\n}\n.good-item-wrap::after {\n    content: "";\n    display: block;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 1px;\n    margin: 0 auto;\n    width: 9.2rem;\n    background-color: #e5e5e5;\n}\n.good-item-wrap .pic {\n    width: 2.66667rem;\n    height: 2.66667rem;\n    overflow: hidden;\n    background-color: #f5f5f5;\n        -ms-flex-negative: 0;\n            flex-shrink: 0;\n    margin-right: 0.30667rem;\n    position: relative;\n    border: 1px solid  #e5e5e5;\n}\n.good-item-wrap .pic img {\n      position: absolute;\n      top: 50%;\n      left: 0;\n      right: 0;\n      width: 100%;\n      margin: 0 auto;\n      -webkit-transform: translateY(-50%);\n              transform: translateY(-50%);\n}\n.good-item-wrap .titl {\n    line-height: 0.53333rem;\n    color: #353535;\n    font-size: 14px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n}\n.good-item-wrap .cont {\n    position: relative;\n}\n.good-item-wrap .btm {\n    position: absolute;\n    bottom: 2px;\n    left: 0;\n}\n.good-item-wrap .price {\n    color: #dd2727;\n    font-size: 16px;\n    margin-bottom: 0.26667rem;\n}\n.good-item-wrap .price i {\n      font-size: 10px;\n}\n.good-item-wrap .tag {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    overflow: hidden;\n    width: 5.6rem;\n    height: 20px;\n        -ms-flex-wrap: wrap;\n            flex-wrap: wrap;\n}\n.good-item-wrap .tag li {\n      padding: 0 0.13333rem;\n      height: 20px;\n      line-height: 20px;\n      border-radius: 4px;\n      border: 1px solid #f5f5f5;\n      color: #dd2727;\n      margin-right: 0.18667rem;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n          -ms-flex-negative: 0;\n              flex-shrink: 0;\n      box-sizing: border-box;\n}\n.good-item-wrap .tag li:last-child {\n      margin-right: 0;\n}\n.good-item-wrap.is-click .titl {\n  color: #d8d8d8;\n}\n',""])},eWDr:function(t,e,i){(t.exports=i("UTlt")(!1)).push([t.i,'\n@charset "UTF-8";\n/**\r\n * [keyframes 定义css关键帧动画keyframes]\r\n * @param  {[type]} $name [定义动画名字]\r\n * @return {[type]}       [no]\r\n */\n/**\r\n * [animation 定义animation动画]\r\n * @param  {[type]} $value [值]\r\n * @return {[type]}        [description]\r\n *\r\n *  example: @include animation(name .5s linear);\r\n */\n.goods-list-wrap .empty {\n  width: 50%;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n.goods-list-wrap .empty p {\n    text-align: center;\n    color: #959595;\n    line-height: 50px;\n    font-size: 14px;\n}\n.goods-list-wrap .filter {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0 0.4rem;\n  background-color: #fff;\n  -webkit-box-pack: justify;\n              -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n              -ms-flex-align: center;\n          align-items: center;\n  font-size: 14px;\n  color: #353535;\n  height: 1.2rem;\n  border-bottom: 1px solid #f5f5f5;\n}\n.goods-list-wrap .filter li {\n    width: 1.86667rem;\n    padding: 0.29333rem 0;\n    color: #353535;\n}\n.goods-list-wrap .filter li.active span {\n      color: #dd2727;\n}\n.goods-list-wrap .filter li span {\n      padding-right: 12px;\n      position: relative;\n      display: inline-block;\n      height: 20px;\n}\n.goods-list-wrap .filter li span:after, .goods-list-wrap .filter li span:before {\n        content: "";\n        position: absolute;\n        right: 0;\n        border-width: 4px;\n        border-style: solid;\n        border-left-color: transparent;\n        border-right-color: transparent;\n}\n.goods-list-wrap .filter li span:before {\n        top: 1px;\n        border-top-color: transparent;\n}\n.goods-list-wrap .filter li span:after {\n        bottom: 1px;\n        border-bottom-color: transparent;\n}\n.goods-list-wrap .filter li.active.sort-1 span:before, .goods-list-wrap .filter li.active.sort-3 span:before {\n      border-bottom-color: #959595;\n}\n.goods-list-wrap .filter li.active.sort-1 span:after, .goods-list-wrap .filter li.active.sort-3 span:after {\n      border-top-color: #dd2727;\n}\n.goods-list-wrap .filter li.active.sort-2 span:before, .goods-list-wrap .filter li.active.sort-4 span:before {\n      border-bottom-color: #dd2727;\n}\n.goods-list-wrap .filter li.active.sort-2 span:after, .goods-list-wrap .filter li.active.sort-4 span:after {\n      border-top-color: #959595;\n}\n.goods-list-wrap .filter li:nth-of-type(1) {\n    text-align: left;\n}\n.goods-list-wrap .filter li:nth-of-type(1) span:before, .goods-list-wrap .filter li:nth-of-type(1) span:after {\n      display: none;\n}\n.goods-list-wrap .filter li:nth-of-type(3) {\n    text-align: right;\n}\n.goods-list-wrap .filter li:nth-of-type(2) {\n    text-align: center;\n}\n',""])},kto6:function(t,e,i){var n=i("X2I5");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("FIqI")("669e086a",n,!0,{})}});